services:
  # 1. Admin Service (Web Interface)
  - type: web
    name: copycord-admin
    image:
      url: ghcr.io/copycord/copycord:v2.8.7
    envVars:
      - key: ROLE
        value: admin
    disk:
      name: copycord-data
      mountPath: /data
      sizeGB: 1
    # Port 8080 is automatically detected

  # 2. Server Service (Background Worker)
  - type: worker
    name: copycord-server
    image:
      url: ghcr.io/copycord/copycord:v2.8.7
    envVars:
      - key: ROLE
        value: server
    disk:
      name: copycord-data
      mountPath: /data
      sizeGB: 1

  # 3. Client Service (Background Worker)
  - type: worker
    name: copycord-client
    image:
      url: ghcr.io/copycord/copycord:v2.8.7
    envVars:
      - key: ROLE
        value: client
    disk:
      name: copycord-data
      mountPath: /data
      sizeGB: 1
